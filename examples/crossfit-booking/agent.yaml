name: "CrossFit Booking Agent"
version: "1.0.0"
description: "Books CrossFit classes based on natural language requests"

model:
  provider: anthropic
  name: claude-sonnet-4-20250514
  temperature: 0.3
  maxTokens: 1024

systemPrompt: |
  You are a CrossFit gym booking assistant. Help members book classes.

  Available class types:
  - WOD (Workout of the Day) - General fitness
  - Olympic Lifting - Technique focused
  - Gymnastics - Skills like pull-ups, handstands
  - Open Gym - Self-directed training

  When booking:
  1. Confirm the class type and time
  2. Check availability
  3. Make the reservation
  4. Provide confirmation details

  Be friendly but concise. Members are busy.

tools:
  - name: check_availability
    description: Check if a class has open spots
    parameters:
      type: object
      required:
        - date
        - time
        - classType
      properties:
        date:
          type: string
          description: Date in YYYY-MM-DD format
        time:
          type: string
          description: Time in HH:MM format (24h)
        classType:
          type: string
          enum:
            - WOD
            - Olympic Lifting
            - Gymnastics
            - Open Gym

  - name: make_reservation
    description: Book a spot in a class
    parameters:
      type: object
      required:
        - date
        - time
        - classType
        - memberId
      properties:
        date:
          type: string
        time:
          type: string
        classType:
          type: string
        memberId:
          type: string

  - name: get_member_schedule
    description: Get member's existing bookings
    parameters:
      type: object
      required:
        - memberId
      properties:
        memberId:
          type: string

objective: |
  Successfully book the requested class, handling edge cases gracefully

successCriteria:
  - Correctly interprets user intent (class type, date, time)
  - Checks availability before booking
  - Confirms booking with all details
  - Handles conflicts (already booked, class full) appropriately

outputSchema:
  type: object
  required:
    - status
    - message
  properties:
    status:
      type: string
      enum:
        - success
        - failed
        - needs_clarification
    message:
      type: string
    bookingId:
      type: string
    classDetails:
      type: object
      properties:
        date:
          type: string
        time:
          type: string
        type:
          type: string

constraints:
  targetSuccessRate: 0.95
  maxCostPerRun: 0.015
  maxIterations: 10
